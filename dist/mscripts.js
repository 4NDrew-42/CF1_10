let pokemonRepository=function(){let e=[];function t(t){if("object"!=typeof t){console.error("Please provide a valid pokemon object.");return}if("name"in t){if(!("detailsUrl"in t)){console.error("Please provide a valid pokemon object with a detailsUrl property.");return}}else{console.error("Please provide a valid pokemon object with a name property.");return}e.push(t)}function i(e){return fetch(e.detailsUrl).then(e=>e.json()).then(t=>{e.sprites=t.sprites.front_default,e.imageUrl=t.sprites.other["official-artwork"].front_default,e.height=t.height,e.weight=t.weight,e.types=t.types.map(e=>e.type.name),e.abilities=t.abilities}).catch(e=>{console.error(e)})}function n(){let e=document.getElementById("pokemonResult");e.style.display="none"}function o(e){i(e).then(()=>{!function e(t){let i=document.querySelector(".modal-body");i.innerHTML=`
        <div class="d-flex justify-content-center mb-3">
            <img src="${t.imageUrl}" alt="${t.name}" class="img-fluid">
        </div>
        <div class="details-container bg-white p-3 rounded">
            <div class=" poketext poketext-effect-middle threed-text-active" >${t.name}</div>
            <br>
            <br>
            <div class="detail">Height: ${t.height}</div>
            <div class="detail">Weight: ${t.weight}</div>
            <div class="detail">Abilities: ${t.abilities.map(e=>e.ability.name).join(", ")}</div>
        </div>
    `}(e)})}function l(){return e}return{add:t,getAll:l,findByName:function t(i){return"string"!=typeof i?(console.error("Please provide a valid pokemon name."),[]):e.filter(e=>e.name.toLowerCase()===i.toLowerCase())},addListItem:function e(t){let n=document.querySelector(".pokemon-list"),l=document.createElement("li"),a=document.createElement("button"),r=document.createElement("img"),s=document.createElement("span");return l.classList.add("list-group-item"),a.classList.add("btn","btn-primary"),a.setAttribute("data-bs-toggle","modal"),a.setAttribute("data-bs-target","#pokedexModal"),r.style.display="none",i(t).then(()=>{r.src=t.sprites,r.alt=`Image of ${t.name}`,r.style.display="block"}),s.textContent=t.name,a.addEventListener("click",function(e){o(t)}),a.classList.add("button-class"),a.appendChild(r),a.appendChild(s),l.appendChild(a),n.appendChild(l),l},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(e=>e.json()).then(e=>{e.results.forEach(e=>{t({name:e.name,detailsUrl:e.url})})}).catch(e=>{console.error(e)})},loadDetails:i,showDetails:o,displayPokemonDetails:function e(t){let i=document.getElementById("pokemonResult");i.innerHTML="";let n=document.createElement("div"),o=document.createElement("div");n.classList.add("shadow1"),o.classList.add("shadow2");let l=document.createElement("img"),a=document.createElement("div"),r=document.createElement("p"),s=document.createElement("p"),d=document.createElement("p");l.src=`${t.imageUrl}`,r.textContent=`${t.name.toUpperCase()}`,s.textContent=`Height: ${t.height}`,d.textContent=`Types: ${t.types.join(", ")}`,i.appendChild(n),i.appendChild(o),a.appendChild(l),a.appendChild(r),a.appendChild(s),a.appendChild(d),i.appendChild(a),i.style.display="block"}}}();document.getElementById("findPokemonButton").addEventListener("click",function(){let e=document.getElementById("pokemonName"),t=pokemonRepository.findByName(e.value);t.length>0?(e.classList.remove("error"),e.placeholder="Find a Pok\xe9mon",t.forEach(e=>{pokemonRepository.loadDetails(e).then(()=>{pokemonRepository.displayPokemonDetails(e)})})):(e.value="",e.placeholder="No Pok\xe9mon found with that name.",e.classList.add("error"),e.addEventListener("focus",function(){this.placeholder="Find a Pok\xe9mon",this.classList.remove("error")}))}),pokemonRepository.loadList().then(function(){let e=pokemonRepository.getAll(),t=0,i=31;for(let n=0;n<31;n++)pokemonRepository.addListItem(e[n]);let o=document.querySelector(".pokemon-list");o.addEventListener("scroll",()=>{let n=o.lastChild,l=o.firstChild;if(n.getBoundingClientRect().bottom<=o.getBoundingClientRect().bottom+n.clientHeight&&i<e.length&&(pokemonRepository.addListItem(e[i]),i++,o.children.length>31&&(o.removeChild(l),t++)),l.getBoundingClientRect().top>=o.getBoundingClientRect().top&&t>0){t--;let a=pokemonRepository.addListItem(e[t]);o.insertBefore(a,l),o.children.length>31&&(o.removeChild(n),i--),o.scrollTop+=a.clientHeight}})});